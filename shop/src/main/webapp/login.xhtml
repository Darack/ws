<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="index.xhtml">
    <ui:define name="content">
        <h:form id="Login">     
            <div class="MarAuto fixedWidth500">        
                <p:panel header="#{msg.loginTitle}">   
                    <div class="MarAuto fixedWidth350">
                        <div class="TextAlignCenter">
                            <div class="EmptyBox20"/>   
                            <ui:fragment rendered="#{!sessionHandler.logged}">
                                <h:panelGroup id="panel">
                                    <p:inputText id="Name" class="width100 border-box" required="true" placeholder="#{msg.name}" 
                                                 value="#{sessionHandler.username}" requiredMessage="#{msg.usernameInvalid}" />
                                    <p:message for="Name"/>
                                    <div class="EmptyBox10"/>
                                    <p:password id="Passwort" class="width100 border-box" required="true" placeholder="#{msg.password}" 
                                                value="#{sessionHandler.passwort}" requiredMessage="#{msg.passwordInvalid}" />
                                    <p:outputLabel/>
                                    <p:message for="Passwort"/>
                                    <div class="EmptyBox10"/>
                                    <p:commandLink value="#{msg.forgetPassword}"/>
                                </h:panelGroup>
                                <div class="EmptyBox20"/>
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" action="#{sessionHandler.login()}" update="panel" id="Login" value="#{msg.login}"/>
                                </div>
                                <div class="EmptyBox20"/>
                                <p:separator/>
                                #{msg.noAccountClick}
                                <p:commandLink value="#{msg.here}" action="register.xhtml?faces-redirect=true" immediate="true" 
                                               id="register"/>
                                #{msg.toRegister}
                            </ui:fragment>
                            <ui:fragment rendered="#{sessionHandler.logged}">
                                #{msg.alreadyLoggedIn}
                                <div class="EmptyBox20"/>
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" value="#{msg.back}" action="#{sessionHandler.goToStartpage()}" update="panel" />
                                </div>
                                <div class="EmptyBox20"/>
                            </ui:fragment>
                        </div> 
                    </div>
                </p:panel>
            </div>
        </h:form>
    </ui:define>
</ui:composition>