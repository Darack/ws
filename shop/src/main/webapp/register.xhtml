<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="index.xhtml">
    <ui:define name="content">
        <h:form>          
            <div class="width100">
                <div class="MarAuto fixedWidth500" >
                    <p:panel id="panel" header=" #{msg.registerTitle}">
                        <div class="MarAuto fixedWidth350">
                            <div class="TextAlignCenter">

                                <div class="EmptyBox20"/>

                                <h:panelGroup >
                                    <p:inputText required="true" value="#{registerHandler.member.username}" class="width100 border-box" 
                                                 requiredMessage="#{msg.userNeedFourLetters}" id="uname" placeholder="#{msg.username}*">      
                                        <f:validator binding="#{usernameValidator}" />
                                    </p:inputText>
                                    <p:message for="uname"/>
                                    <div class="EmptyBox10"/>
                                    <p:outputPanel>
                                        <p:selectOneMenu class="width100 border-box" value="#{registerHandler.member.anrede}">
                                            <f:selectItems value="#{sessionHandler.anredeValues}" var="a" itemLabel="#{a.label}"></f:selectItems>
                                        </p:selectOneMenu>
                                    </p:outputPanel>
                                    <div class="EmptyBox10"/>
                                    <p:inputText value="#{registerHandler.member.vorname}" class="width50 border-box" id="vname" placeholder="#{msg.firstname}">
                                    </p:inputText>
                                    <p:inputText value="#{registerHandler.member.nachname}" class="width50 border-box" id="nname" placeholder="#{msg.familyname}">
                                    </p:inputText>
                                    <div class="EmptyBox10"/>
                                    <p:calendar value="#{registerHandler.member.geburtsdatum}" class="width100 border-box" placeholder="#{msg.birthday}" id="gb"
                                                mode="popup" navigator="true" showOn="button" mindate="01.01.1900" pagedate="01.01.1980" maxdate="01.01.2003" pattern="dd.MM.yyyy" />
                                    <div class="EmptyBox10"/>
                                    <p:inputText required="true" id="email" value="#{registerHandler.member.email}" class="width100 border-box" placeholder="#{msg.email}*" validatorMessage="#{msg.emailInvalid}" requiredMessage="#{msg.emailInvalid}">
                                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    </p:inputText>
                                    <p:message for="email"/>
                                    <div class="EmptyBox10"/>
                                    <p:password required="true" value="#{registerHandler.member.passwort}" match="pw2" class="width50 border-box" placeholder="#{msg.password}*" id="pw" 
                                                validatorMessage="#{msg.passwordNeedfourLetters}" requiredMessage="#{msg.passwordNeedfourLetters}">
                                        <f:validateLength minimum="4" />
                                    </p:password>
                                    <p:password required="true" class="width50 border-box" placeholder="#{msg.repeat}*" id="pw2" requiredMessage="#{msg.passwordsNotMatch}"/>
                                    <p:message for="pw"/>
                                    <p:message for="pw2"/>
                                </h:panelGroup>
                                <div class="EmptyBox20"/>
                                <p:outputLabel id="labl" value="#{msg.newsletterSubscribe}" />
                                <p:selectBooleanCheckbox label="labl" value="#{registerHandler.member.newsletter}"/>  
                                <div class="EmptyBox20"/>
                                #{msg.AGB}
                                <div class="EmptyBox20"/>                  
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" action="#{registerHandler.saveAndLogin()}" update="panel" id="konto" value="#{msg.createAccount}"/>
                                </div>
                                <div class="EmptyBox20"/>
                                <p:separator/>
                                #{msg.AlreadyAccount}
                                <p:commandLink value="#{msg.here}" action="login.xhtml?faces-redirect=true" immediate="true" id="register"/>
                                #{msg.toLogin}
                            </div>
                        </div>
                    </p:panel>
                </div>
            </div>
        </h:form>
    </ui:define>
</ui:composition>