<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<ui:composition  xmlns="http://www.w3.org/1999/xhtml"
                 xmlns:f="http://java.sun.com/jsf/core"
                 xmlns:h="http://java.sun.com/jsf/html"
                 xmlns:ui="http://java.sun.com/jsf/facelets"
                 xmlns:p="http://primefaces.org/ui"
                 template="index.xhtml">
    <ui:define name="content">
        <h:form>               
            <div class="MarAuto width100">            
                <p:panelGrid columns="3" styleClass="ui-panelgrid-blank" layout="grid" columnClasses="ui-grid-col-8,ui-grid-col-4,ui-grid-col-4">
                    <h:panelGroup>
                        <p:panel id="data" header="DATEN"> 
                            <p:messages id="msgData" showDetail="true"  closable="true" />
                            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" layout="grid" >
                                <p:outputPanel>
                                    <p:outputLabel value="Username: " for="username"/><br/>
                                    <p:inputText class="width100 border-box" id="username" value="#{memberHandler.merkeMember.username}" disabled="true" label="text" placeholder="Vorname"/>

                                </p:outputPanel>  
                                <p:outputPanel>
                                    <p:outputLabel value="Geburtsdatum: " for="birthday"/><br/>
                                    <p:calendar value="#{memberHandler.merkeMember.geburtsdatum}"  class="width100 border-box"  placeholder="Geburtsdatum" id="birthday"
                                                mode="popup" navigator="true" showOn="button" mindate="01.01.1900" pagedate="01.01.1980" maxdate="01.01.2003" pattern="dd.MM.yyyy" />
                                </p:outputPanel>  
                                <p:outputPanel>
                                    <p:outputLabel value="Vorname: " for="firstname"/><br/>
                                    <p:inputText class="width100 border-box" id="firstname" value="#{memberHandler.merkeMember.vorname}" label="text" placeholder="Vorname"/> 
                                </p:outputPanel>
                                <p:outputPanel>
                                    <p:outputLabel value="Nachname: " for="lastname"/><br/>
                                    <p:inputText class="width100 border-box" id="lastname" value="#{memberHandler.merkeMember.nachname}" label="text" placeholder="Vorname"/>
                                </p:outputPanel> 
                            </p:panelGrid>    
                            <div class="TextAlignCenter">
                                <div class="EmptyBox10"/>
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" id="apply" action="#{memberHandler.saveProfileChanges()}" update="data" value="Übernehmen" 
                                                     partialSubmit="true" process="data" />
                                </div>
                            </div>
                        </p:panel> 
                        <div class="EmptyBox5"/>
                        <p:panel header="PASSWORT ÄNDERN" id="pwpanel"> 
                            <p:messages id="msgPw" showDetail="true" closable="true" />
                            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" layout="grid" >
                                <p:outputPanel>
                                    <p:outputLabel value="Neues Passwort: " for="pw"/><br/>
                                    <p:password value="#{memberHandler.merkeMember.passwort}" match="pw2" class="width100 border-box" placeholder="Passwort*" id="pw" 
                                                validatorMessage="Passwort muss mindestens 4 Zeichen haben" requiredMessage="Passwort muss mindestens 4 Zeichen haben">
                                        <f:validateLength minimum="4" />
                                    </p:password>
                                </p:outputPanel>  
                                <p:outputPanel>
                                    <br/><p:password class="width100 border-box" placeholder="Wiederholen*" id="pw2" requiredMessage="Passwörter stimmen nicht überein."/>
                                </p:outputPanel> 
                            </p:panelGrid>
                            <div class="TextAlignCenter">
                                <div class="EmptyBox10"/>
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" id="apply2" action="#{memberHandler.saveProfileChanges()}" value="Übernehmen" 
                                                     partialSubmit="true"  process="pwpanel" update="pwpanel"/>
                                </div>
                            </div>
                        </p:panel> 
                         <div class="EmptyBox5"/>
                        <p:panel header="EMAIL ÄNDERN" id="emailpan">
                            <p:messages id="msge" showDetail="true" closable="true" />
                            <p:panelGrid columns="2" styleClass="ui-panelgrid-blank" layout="grid" >
                                <p:outputPanel>
                                    <p:outputLabel value="Neue Email: " for="email"/><br/>
                                    <p:inputText id="email" value="#{memberHandler.merkeMember.email}" class="width100 border-box" placeholder="Email*" validatorMessage="Keine gültige Emailaddresse" requiredMessage="Keine gültige Emailaddresse">
                                        <f:validateRegex pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
                                    </p:inputText>
                                </p:outputPanel>
                                <p:outputPanel></p:outputPanel>
                            </p:panelGrid>
                            <div class="TextAlignCenter">
                                <div class="EmptyBox10"/>
                                <div class="MarAuto width50">
                                    <p:commandButton class="width100 border-box" id="apply3" action="#{memberHandler.saveProfileChanges()}" value="Übernehmen" 
                                                     partialSubmit="true"  process="emailpan" update="msge"/>
                                </div>
                            </div>
                        </p:panel> 
                    </h:panelGroup>
                    <p:panel style="min-height: 400px" header="LIEFERADRESSEN">    

                    </p:panel>   
                    <p:panel style="min-height: 400px" header="ZAHLUNGSARTEN">    

                    </p:panel>      
                </p:panelGrid>                  
            </div>    
        </h:form>
    </ui:define>
</ui:composition>